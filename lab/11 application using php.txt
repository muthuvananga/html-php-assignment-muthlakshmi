index.php

<!DOCTYPE html>
<html>
<head>
   <title>Upload Image</title>
   <style>
       body {
           font-family: 'Segoe UI', sans-serif;
           background: url('background.jpg') no-repeat center center fixed;
           background-size: cover;
           text-align: center;
           margin: 0;
           padding: 0;
       }
       header {
           background: rgba(0, 0, 0, 0.6);
           color: white;
           padding: 20px;
           display: flex;
           justify-content: center;
           align-items: center;
           gap: 15px;
       }
       header img {
           height: 50px;
           width: 50px;
           border-radius: 50%;
       }
       h2, h3 {
           margin: 10px;
       }
       form {
           background: rgba(255, 255, 255, 0.85);
           padding: 30px;
           margin: 60px auto;
           width: 400px;
           border-radius: 20px;
           box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3);
           transition: transform 0.3s ease, box-shadow 0.3s ease;
       }
       form:hover {
           transform: scale(1.05);
           box-shadow: 0 12px 24px rgba(0, 0, 0, 0.4);
       }
       input[type="file"] {
           margin: 15px 0;
           padding: 10px;
           width: 90%;
           border: 1px solid #ccc;
           border-radius: 8px;
       }
       button, a {
           background: #4CAF50;
           color: #fff;
           padding: 12px 20px;
           text-decoration: none;
           border-radius: 10px;
           display: inline-block;
           margin-top: 15px;
           border: none;
           font-size: 16px;
           cursor: pointer;
           transition: background 0.3s ease;
       }
       button:hover, a:hover {
           background: #388E3C;
       }
       a {
           display: block;
           margin-top: 20px;
       }
       footer {
           background: rgba(0, 0, 0, 0.6);
           color: white;
           padding: 15px;
           position: fixed;
           bottom: 0;
           width: 100%;
           display: flex;
           justify-content: center;
           align-items: center;
           gap: 10px;
       }
       footer img {
           height: 30px;
           width: 30px;
           border-radius: 50%;
       }
   </style>
</head>
<body>
   <header>
       <h2>PSGR KRISHNAMMAL COLLEGE FOR WOMEN</h2>
   </header>
   <h3>OUR MEMORIES</h3>
   <form action="upload.php" method="post" enctype="multipart/form-data">
       <input type="file" name="image" required><br>
       <button type="submit">Upload</button>
   </form>
   <a href="gallery.php">View Gallery</a>
   <footer>
       <p>&copy; 2025 PSGR Krishnammal College for Women. All rights reserved.</p>
   </footer>
</body>
</html>

gallery.php

<?php
$host = "localhost";
$user = "root";
$pass = "";
$db   = "gallerydb";
$conn = new mysqli($host, $user, $pass, $db);
$result = $conn->query("SELECT * FROM images ORDER BY uploaded_at DESC");
?>
<!DOCTYPE html>
<html>
<head>
   <title>Image Gallery</title>
   <style>
       body {
           font-family: 'Segoe UI', sans-serif;
           background: #f4f6f9;
           margin: 0;
           padding: 0;
       }
       /* Header styling */
       header {
           background: #444;
           color: white;
           padding: 15px 30px;
           display: flex;
           justify-content: center;
           align-items: center;
           gap: 15px;
       }
       header img {
           height: 60px;
           width: 60px;
           border-radius: 50%;
           object-fit: cover;
       }
       header h2 {
           margin: 0;
           font-size: 24px;
       }
       h2.title {
           text-align: center;
           margin-top: 20px;
           font-size: 28px;
           color: #333;
       }
       /* Upload button */
       .upload-btn {
           display: inline-block;
           margin: 20px auto;
           background: #4CAF50;
           color: white;
           padding: 12px 20px;
           text-decoration: none;
           font-size: 16px;
           border-radius: 8px;
           transition: background 0.3s ease;
       }
       .upload-btn:hover {
           background: #388E3C;
       }
       /* Gallery container */
       .gallery {
           display: flex;
           flex-wrap: wrap;
           justify-content: center;
           gap: 25px;
           margin: 30px;
       }
       /* Image card */
       .img-box {
           background: #fff;
           padding: 15px;
           width: 250px;
           border-radius: 16px;
           box-shadow: 0 8px 16px rgba(0,0,0,0.1);
           transition: transform 0.3s ease, box-shadow 0.3s ease;
           display: flex;
           flex-direction: column;
           align-items: center;
       }
       .img-box:hover {
           transform: scale(1.05);
           box-shadow: 0 12px 24px rgba(0,0,0,0.2);
       }
       .img-box img {
           width: 100%;
           height: 180px;
           border-radius: 12px;
           object-fit: cover;
           margin-bottom: 10px;
       }
       /* Text section under image */
       .img-details {
           text-align: center;
           margin-bottom: 10px;
       }
       .img-details p {
           margin: 3px 0;
           font-size: 14px;
           color: #555;
       }
       /* Delete button */
       .delete-btn {
           background: #e53935;
           color: #fff;
           padding: 8px 14px;
           border-radius: 6px;
           text-decoration: none;
           font-size: 14px;
           transition: background 0.3s ease;
       }
       .delete-btn:hover {
           background: #b71c1c;
       }
       /* Footer styling */
       footer {
           background: #444;
           color: white;
           padding: 15px;
           text-align: center;
           position: fixed;
           bottom: 0;
           width: 100%;
       }
   </style>
</head>
<body>
   <header>
       <h2>PSGR KRISHNAMMAL COLLEGE FOR WOMEN</h2>
   </header>
   <h2 class="title">Uploaded memories..!!</h2>
   <div style="text-align:center;">
       <a class="upload-btn" href="index.php">Upload More</a>
   </div>
   <div class="gallery">
       <?php while ($row = $result->fetch_assoc()) { ?>
           <div class="img-box">
               <img src="uploads/<?php echo $row['filename']; ?>">
              
               <!-- 4 lines of text -->
               <div class="img-details">
                   <p><strong>Title:</strong> <?php echo $row['title'] ?? 'Event'; ?></p>
                   <p><strong>Date:</strong> <?php echo date("d M Y", strtotime($row['uploaded_at'])); ?></p>
                   <p><strong>Uploaded By:</strong> <?php echo $row['uploaded_by'] ?? 'Krishnammal College'; ?></p>
                   <p><strong>Description:</strong> <?php echo $row['description'] ?? 'Just our memories '; ?></p>
               </div>
               <a class="delete-btn" href="delete.php?id=<?php echo $row['id']; ?>">Delete</a>
           </div>
       <?php } ?>
   </div>
   <footer>
       &copy; 2025 PSGR Krishnammal College for Women. All rights reserved.
   </footer>
</body>
</html>

upload.php

<?php
$host = "localhost";
$user = "root";
$pass = "";
$db   = "gallerydb";
$conn = new mysqli($host, $user, $pass, $db);
// Check connection
if ($conn->connect_error) {
   die("Connection failed: " . $conn->connect_error);
}
?>
<!DOCTYPE html>
<html>
<head>
   <title>Uploading...</title>
   <style>
       body {
           font-family: 'Segoe UI', Arial, sans-serif;
           background: linear-gradient(135deg, #e3f2fd, #bbdefb);
           display: flex;
           justify-content: center;
           align-items: center;
           height: 100vh;
           margin: 0;
       }
       .container {
           background: #fff;
           padding: 40px;
           border-radius: 16px;
           box-shadow: 0 12px 25px rgba(0, 0, 0, 0.15);
           text-align: center;
           max-width: 500px;
           animation: fadeIn 0.8s ease-in-out;
       }
       .success-icon {
           font-size: 60px;
           color: #4CAF50;
           margin-bottom: 20px;
           animation: bounce 1s ease infinite alternate;
       }
       h2 {
           color: #333;
           margin-bottom: 20px;
           font-size: 28px;
       }
       .btn-container {
           display: flex;
           justify-content: center;
           gap: 20px;
       }
       a {
           padding: 14px 24px;
           background: #4CAF50;
           color: #fff;
           border-radius: 12px;
           text-decoration: none;
           font-size: 18px;
           font-weight: bold;
           transition: background 0.3s ease, transform 0.2s ease;
       }
       a:hover {
           background: #388E3C;
           transform: scale(1.05);
       }
       .divider {
           display: flex;
           align-items: center;
           justify-content: center;
           margin: 10px 0;
           color: #888;
       }
       @keyframes fadeIn {
           from { opacity: 0; transform: translateY(-20px); }
           to { opacity: 1; transform: translateY(0); }
       }
       @keyframes bounce {
           from { transform: translateY(0); }
           to { transform: translateY(-8px); }
       }
   </style>
</head>
<body>
<div class="container">
<?php
if (!empty($_FILES['image']['name'])) {
   $target_dir = __DIR__ . "/uploads/";
   if (!is_dir($target_dir)) {
       mkdir($target_dir, 0777, true);
   }
   $file_name = basename($_FILES["image"]["name"]);
   $target_file = $target_dir . $file_name;
   $imageFileType = strtolower(pathinfo($target_file, PATHINFO_EXTENSION));
   $allowed_types = ["jpg", "jpeg", "png"];
   if (in_array($imageFileType, $allowed_types)) {
       if (move_uploaded_file($_FILES["image"]["tmp_name"], $target_file)) {
           $stmt = $conn->prepare("INSERT INTO images (filename) VALUES (?)");
           $stmt->bind_param("s", $file_name);
           $stmt->execute();
           $stmt->close();
           echo "<div class='success-icon'>✅</div>";
           echo "<h2>Image Uploaded Successfully!</h2>";
           echo "<div class='btn-container'>
                   <a href='gallery.php'>Go to Gallery</a>
                   <a href='index.php'>Upload More</a>
                 </div>";
       } else {
           echo "<h2 style='color:red;'>❌ Error uploading file.</h2>";
       }
   } else {
       echo "<h2 style='color:orange;'>⚠ Only JPG, JPEG & PNG allowed!</h2>";
   }
} else {
   echo "<h2 style='color:orange;'>⚠ No file selected!</h2>";
}
$conn->close();
?>
</div>
</body>
</html>


delete.php

<?php
$host = "localhost";
$user = "root";
$pass = "";
$db   = "gallerydb";
$conn = new mysqli($host, $user, $pass, $db);
if (isset($_GET['id'])) {
   $id = $_GET['id'];
   $res = $conn->query("SELECT filename FROM images WHERE id=$id");
   $row = $res->fetch_assoc();
   $file = "uploads/" . $row['filename'];
   if (file_exists($file)) { unlink($file); }
   $conn->query("DELETE FROM images WHERE id=$id");
   header("Location: gallery.php");
}
?>
